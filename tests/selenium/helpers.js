'use strict';
var until = require('selenium-webdriver').until;

var helpers = module.exports = {
  testUrl: 'file://' +
    __dirname.replace('/tests/selenium', '') +
    '/build/standalone/index.html',

  createStory: function(dr, dontReturn) {
    dr.get(helpers.testUrl + '#stories');

    var addButton = dr.findElement({ css: '.addStory' });
    var bubble = addButton
      .findElement({ xpath: '../..' })
      .findElement({ css: '.bubble '});
    addButton.click();

    dr.wait(until.elementIsVisible(bubble))
    .then(function() {
      var nameField = bubble.findElement({ css: '.newName' });
      var addSubmitButton = bubble.findElement({ css: '.add' });

      nameField.sendKeys(helpers.shortUni);
      addSubmitButton.click();

      dr.wait(until.elementLocated({ css: '#storyEditView' }));

      if (!dontReturn)  {
        dr.wait(until.elementLocated({ css: '#storyEditView' }));
        dr.get(helpers.testUrl + '#stories');
        dr.wait(until.elementLocated({ css: '#storyListView' }));
      };
    });
  },
  // jscs:disable maximumLineLength
  shortUni: 'A good day, World! Schönen Tag, Welt! Une bonne journée, tout le monde! يوم جيد، العالم 좋은 일, 세계! Một ngày tốt lành, thế giới! こんにちは、世界！',

  longUni: 'A good day, World! Schönen Tag, Welt! Une bonne journée, tout le monde! يوم جيد، العالم 좋은 일, 세계! Một ngày tốt lành, thế giới! こんにちは、世界！ Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec non nisi posuere, tincidunt risus ut, sollicitudin tortor. In ut neque nibh. Vestibulum ac dui eget ligula blandit cursus id eget massa. In justo magna, facilisis ac lorem in, commodo hendrerit turpis. Quisque sed lacus rhoncus, volutpat arcu sit amet, tincidunt metus. Donec hendrerit diam at volutpat dapibus. Donec efficitur imperdiet sapien, ac lacinia felis facilisis eu. Integer bibendum nibh a turpis condimentum rhoncus. Cras condimentum lobortis aliquet. Donec ultricies metus vitae nisl pellentesque rhoncus.  Nulla blandit efficitur ante, vel lacinia est porttitor a. Fusce erat sem, pulvinar et pulvinar sit amet, rhoncus eget sem. Suspendisse at ipsum sit amet est facilisis porta. Nam sit amet enim interdum, eleifend augue sit amet, mollis dolor. Quisque iaculis, arcu et consequat congue, justo augue mollis metus, eu fringilla ligula est vel lacus. Vestibulum sit amet venenatis massa. Suspendisse dui velit, dictum eu mollis vitae, mollis id risus. Nullam eleifend ultricies nibh in volutpat. Donec ac imperdiet purus. Nullam luctus, mi a iaculis fermentum, purus magna tincidunt dui, sit amet blandit neque purus sed erat. Mauris feugiat non risus et sollicitudin. Vestibulum ut semper ipsum. Nulla diam nibh, condimentum eget auctor non, dapibus ut libero.  In sit amet sem laoreet, consectetur sapien eu, iaculis metus. Sed ut interdum est, ornare scelerisque lectus. Maecenas nec libero sit amet justo tincidunt pulvinar. Sed euismod, risus id pulvinar aliquet, ipsum ipsum malesuada purus, eu varius ligula massa et massa. Curabitur venenatis tempor augue, sed dictum erat blandit et. Nulla posuere commodo lectus, vel feugiat diam commodo ac. Nam consectetur velit sed congue bibendum. Donec eu lectus tortor. Mauris lacinia, massa a dictum placerat, massa nunc venenatis velit, vel mattis eros dui sit amet ipsum. Quisque efficitur, felis ac venenatis maximus, sem mi aliquet mi, sit amet luctus nisl leo vel libero. Nunc a dictum ante. Nam nec enim at justo pellentesque vehicula. Morbi sollicitudin gravida consequat.  Duis vulputate, diam vitae venenatis volutpat, quam sem faucibus neque, at bibendum tellus felis id lacus. Vivamus aliquet, ipsum eu dictum bibendum, ligula mi ultricies risus, et suscipit magna velit rutrum sapien. Aliquam ac justo nisi. Pellentesque sed ipsum leo. Ut vitae iaculis sem. Proin ut ante sed libero ultrices tempor nec a lacus. Sed nunc enim, dapibus quis arcu in, rhoncus pretium tellus. Nam tristique ligula magna, nec consequat sem ultrices a.  In semper tellus at nisi hendrerit efficitur. Nullam laoreet porta rhoncus. Sed non magna in nibh feugiat lacinia. Etiam vel tortor sagittis libero consequat ultricies sed quis turpis. Pellentesque vel felis at orci egestas mattis ut ut diam. Ut a libero eget sem malesuada blandit. Proin neque ipsum, dictum ut tortor ac, finibus sagittis risus. Interdum et malesuada fames ac ante ipsum primis in faucibus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas feugiat a libero nec fermentum. Phasellus pretium dolor in felis rutrum, in posuere diam sollicitudin.  Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Vestibulum posuere vehicula tortor, vitae dapibus augue lacinia id. Mauris rutrum tincidunt dui, vitae accumsan turpis pulvinar in. Proin a eros porttitor, placerat est mollis, laoreet lorem. Aliquam varius nisl augue, sit amet rhoncus lectus posuere ut. Vivamus vulputate, mauris aliquet lobortis finibus, neque sem malesuada turpis, ut imperdiet nibh erat ultricies erat. Aenean in diam a neque tempus tincidunt. Nulla pretium urna nulla, nec vulputate nunc congue sit amet. Mauris at suscipit neque.  Nullam non suscipit mi. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla aliquam gravida congue. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Duis sagittis mauris mattis ultrices consequat. Nam quis mauris sit amet elit ornare vehicula ut in lorem. Quisque pulvinar finibus sem, ut dapibus ex maximus sed. Quisque consectetur fringilla ante quis egestas. Sed commodo sit amet turpis et rutrum. Aliquam semper magna sagittis magna sollicitudin sollicitudin.  Cras sodales enim vitae lacus tempor tristique. Donec auctor, nisl convallis sodales condimentum, velit tortor efficitur tortor, et tempor nulla sapien eu odio. Suspendisse efficitur mi sed libero facilisis, at suscipit mi condimentum. Ut a dapibus felis. Mauris gravida sapien justo. Vivamus ac nunc vel est condimentum posuere sed vitae massa. Praesent elementum, magna nec feugiat iaculis, lectus turpis molestie felis, quis pellentesque nunc ipsum quis turpis. Nam a massa nec dolor porttitor sagittis eget et odio. Pellentesque dui mi, placerat nec pulvinar vel, finibus sit amet erat. Maecenas nec enim et urna rutrum ultrices. Integer pharetra iaculis dui, a blandit libero placerat sit amet. Donec aliquam sagittis lacus vel placerat. Aliquam quis enim sit amet turpis vestibulum tristique vel et lacus. Aenean vehicula placerat laoreet. Mauris ornare neque urna, id pharetra nibh volutpat at.  Ut in erat massa. Suspendisse potenti. Nunc hendrerit eget ante sed ullamcorper. Pellentesque viverra consectetur magna, nec sollicitudin enim maximus eu. Maecenas sagittis malesuada velit in aliquet. Vestibulum elementum elementum felis. Etiam sodales facilisis cursus. Duis sodales, tellus ut rhoncus fringilla, justo ipsum aliquam erat, vel feugiat eros orci efficitur neque.  Donec ac pharetra elit. Morbi eget felis eu velit commodo ultrices. Fusce consectetur leo vestibulum tortor pretium, at commodo nisl tincidunt. Vestibulum eu felis eu nisl molestie imperdiet in vel urna. Fusce quis justo nec metus blandit feugiat sit amet sit amet est. Sed vestibulum dignissim velit, et hendrerit nisi aliquam vel. Proin ac commodo nunc. Aliquam vehicula nunc a nisl facilisis faucibus. Etiam venenatis eu eros vitae fermentum.  Ut diam turpis, viverra ut vestibulum id, viverra nec dui. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Cras velit neque, maximus ac quam ut, scelerisque suscipit mauris. Proin lacinia neque at euismod pretium. Vestibulum consectetur bibendum turpis. Mauris porta magna magna. Suspendisse porttitor vel velit eget euismod. Quisque lacus urna, pellentesque vitae ornare sit amet, mattis non dui. Sed odio dui, fringilla ut sagittis quis, hendrerit in metus. Phasellus placerat, lectus vitae euismod tristique, est massa pharetra ante, non porttitor diam diam in lorem. Praesent eu nisl dapibus, ullamcorper magna id, molestie est. Etiam.',
  // jscs:enable maximumLineLength
};
